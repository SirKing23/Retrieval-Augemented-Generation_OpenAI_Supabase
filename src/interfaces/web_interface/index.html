<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnswerFlow AI</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <i class="fas fa-brain"></i>
                    <span>AnswerFlow</span>
                </div>
            </div>
            <div class="header-center">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Ask anything about your file and beyond" id="global-search">
                    <button class="search-btn" onclick="quickSearch()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            <div class="header-right">
                <button class="header-btn" onclick="toggleTheme()">
                    <i class="fas fa-moon" id="theme-icon"></i>
                </button>
                <button class="header-btn" onclick="showNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notification-count">0</span>
                </button>
                <div class="user-profile">
                    <i class="fas fa-user-circle"></i>
                </div>
            </div>
        </header>

        <!-- Main Layout -->
        <div class="main-layout">
            <!-- Sidebar Navigation -->
            <nav class="sidebar">
                <div class="nav-section">
                    <div class="nav-title">Home</div>
                    <div class="nav-item active" data-view="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </div>

                    <div class="nav-title">Chats</div>                    
                    <div class="nav-item" data-view="chat">
                        <i class="fas fa-comments"></i>
                        <span>Chat</span>
                    </div>                    
                </div>

                <div class="nav-section">

                     <div class="nav-title">Files</div>

                     <div class="nav-item" data-view="upload">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <span>Upload</span>
                    </div>

                    <div class="nav-item" data-view="documents">
                        <i class="fas fa-file-alt"></i>
                        <span>Documents</span>                     
                    </div>
                   
                    <div class="nav-item" data-view="processing">
                        <i class="fas fa-cogs"></i>
                        <span>Processing</span>
                    </div>
                    <div class="nav-item" data-view="analytics">
                        <i class="fas fa-chart-line"></i>
                        <span>Analytics</span>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-title">System</div>
                    <div class="nav-item" data-view="settings">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </div>
                    <div class="nav-item" data-view="help">
                        <i class="fas fa-question-circle"></i>
                        <span>Help</span>
                    </div>
                </div>

                <div class="sidebar-footer">
                    <div class="system-status">
                        <div class="status-indicator online" id="system-status"></div>
                        <div class="status-text">
                            <div class="status-label">System Status</div>
                            <div class="status-value" id="status-text">Online</div>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Main Content Area -->
            <main class="content">
                <!-- Dashboard View -->
                <div class="view active" id="dashboard-view">
                    <div class="view-header">
                        <h1>Dashboard</h1>
                        <p>Your assistant overview</p>
                    </div>

                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <div class="card-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="card-content">
                                <div class="card-value" id="total-documents">0</div>
                                <div class="card-label">Documents</div>
                                <div class="card-change positive">+12% this week</div>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <div class="card-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="card-content">
                                <div class="card-value" id="total-queries">0</div>
                                <div class="card-label">AI Queries</div>
                                <div class="card-change positive">+8% this week</div>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <div class="card-icon">
                                <i class="fas fa-tachometer-alt"></i>
                            </div>
                            <div class="card-content">
                                <div class="card-value" id="avg-response">0ms</div>
                                <div class="card-label">Avg Response</div>
                                <div class="card-change negative">-3% this week</div>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <div class="card-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <div class="card-content">
                                <div class="card-value" id="cache-efficiency">0%</div>
                                <div class="card-label">Cache Efficiency</div>
                                <div class="card-change positive">+15% this week</div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-widgets">
                        <div class="widget chart-widget">
                            <div class="widget-header">
                                <h3>Query Performance</h3>
                                <select class="widget-filter">
                                    <option>Last 7 days</option>
                                    <option>Last 30 days</option>
                                    <option>Last 90 days</option>
                                </select>
                            </div>
                            <div class="chart-container" id="performance-chart">
                                <div class="chart-placeholder">
                                    <i class="fas fa-chart-line"></i>
                                    <p>Performance chart will be displayed here</p>
                                </div>
                            </div>
                        </div>

                        <div class="widget activity-widget">
                            <div class="widget-header">
                                <h3>Recent Activity</h3>
                                <button class="widget-btn">View All</button>
                            </div>
                            <div class="activity-list" id="recent-activity">
                                <!-- Activity items will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat View -->
                <div class="view" id="chat-view">
                    <div class="chat-container">
                        <div class="chat-header">
                            <h2>New Chat</h2>
                            <div class="chat-actions">
                                <button class="action-btn" onclick="clearChat()">
                                    <i class="fas fa-trash"></i>
                                </button>
                                <button class="action-btn" onclick="exportChat()">
                                    <i class="fas fa-download"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="chat-messages" id="chat-messages">
                            <div class="message-group assistant">
                                <div class="message-content">
                                    <div class="message-text">
                                       Hi! How can I assist you today?
                                    </div>
                                    <div class="message-time">Just now</div>
                                </div>
                            </div>
                        </div>

                        <div class="chat-input-area">
                            <div class="input-container">
                                <button class="attachment-btn" id="chat-attachment-btn" type="button">
                                    <i class="fas fa-paperclip"></i>
                                </button>
                                <input type="file" id="chat-file-input" style="display:none;" accept=".pdf,.txt,.doc,.docx">
                                <input type="text" id="chat-input" placeholder="Type your question..." onkeypress="handleChatKeyPress(event)">
                                <button class="send-btn" onclick="sendChatMessage()">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                            <div class="input-suggestions">
                                <button class="suggestion" onclick="useSuggestion(this)">What documents do I have?</button>
                                <button class="suggestion" onclick="useSuggestion(this)">Summarize my documents</button>
                                <button class="suggestion" onclick="useSuggestion(this)">Find information about...</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Upload View -->
                <div class="view" id="upload-view">
                    <div class="view-header">
                        <h1>Upload Documents</h1>
                        <p>Add new documents to your knowledge base</p>
                    </div>

                    <div class="upload-container">
                        <div class="upload-area" id="upload-area">
                            <div class="upload-content">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <h3>Drag & Drop Files Here</h3>
                                <p>or click to browse</p>
                                <p>Supported file type: .pdf, .txt, .doc, .docx</p>
                                <button class="browse-btn" id="browse-btn">
                                    Choose Files
                                </button>
                                <input type="file" id="file-input" multiple accept=".pdf,.txt,.docx,.doc" style="display: none;">
                            </div>
                        </div>

                        <div class="upload-queue" id="upload-queue">
                            <!-- Upload queue items will appear here -->
                        </div>
                        
                    </div>
                </div>

                <!-- Documents View -->
                <div class="view" id="documents-view">
                    <div class="view-header">
                        <h1>Documents</h1>
                        <p>Browse, search, and manage all your uploaded files here.</p>
                        <div class="view-actions">              
                            <button class="primary-btn" onclick="showView('upload')">                                 
                                <i class="fas fa-cloud-upload-alt"></i>                                 
                                Upload Files
                            </button>
                            <button class="secondary-btn" id="download-selected-btn" onclick="ragApp.downloadSelectedDocuments()" disabled>
                                <i class="fas fa-download"></i>
                                Download
                            </button>
                            <button class="danger-btn" id="delete-selected-btn" onclick="ragApp.deleteSelectedDocuments()" disabled>
                                <i class="fas fa-trash"></i>
                                Delete
                            </button>                          
                        </div>
                    </div>

                    <div class="documents-container">
                        <div class="documents-header">
                            <div class="search-filter">
                                <input type="text" placeholder="Search documents..." id="document-search">
                                <select id="document-filter">
                                    <option value="all">All Types</option>
                                    <option value="pdf">PDF</option>
                                    <option value="txt">Text</option>
                                    <option value="docx">Word</option>
                                </select>
                            </div>
                            
                        </div>

                        <div class="documents-list" id="documents-list">
                            <!-- Documents will be populated here -->
                        </div>
                    </div>
                </div>               

                <!-- Processing View -->
                <div class="view" id="processing-view">
                    <div class="view-header">
                        <h1>Document Processing</h1>
                        <p>Monitor document indexing and processing status</p>
                    </div>

                    <div class="processing-container">
                        <div class="processing-status" id="processing-status">
                            <div class="status-card">
                                <i class="fas fa-check-circle"></i>
                                <h3>Ready to Process</h3>
                                <p>Click the button below to start processing documents</p>
                                <button class="process-btn" onclick="startProcessing()">
                                    <i class="fas fa-play"></i>
                                    Start Processing
                                </button>
                            </div>
                        </div>

                        <div class="processing-logs" id="processing-logs">
                            <h4>Processing Logs</h4>
                            <div class="logs-container">
                                <!-- Logs will appear here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics View -->
                <div class="view" id="analytics-view">
                    <div class="view-header">
                        <h1>Analytics</h1>
                        <p>Detailed insights into your RAG system performance</p>
                    </div>

                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h3>Cache Performance</h3>
                            <div class="metric-value" id="cache-hit-rate">0%</div>
                            <div class="metric-label">Hit Rate</div>
                        </div>

                        <div class="analytics-card">
                            <h3>API Usage</h3>
                            <div class="metric-value" id="api-calls">0</div>
                            <div class="metric-label">Total Calls</div>
                        </div>

                        <div class="analytics-card">
                            <h3>Storage Usage</h3>
                            <div class="metric-value" id="storage-used">0 MB</div>
                            <div class="metric-label">Cache Size</div>
                        </div>

                        <div class="analytics-card">
                            <h3>Response Time</h3>
                            <div class="metric-value" id="response-time">0ms</div>
                            <div class="metric-label">Average</div>
                        </div>
                    </div>
                </div>

                <!-- Settings View -->
                <div class="view" id="settings-view">
                    <div class="view-header">
                        <h1>Settings</h1>
                        <p>Configure your RAG system preferences</p>
                    </div>

                    <div class="settings-container">
                        <div class="settings-section">
                            <h3>General Settings</h3>
                            <div class="setting-item">
                                <label>Theme</label>
                                <select id="theme-setting">
                                    <option value="light">Light</option>
                                    <option value="dark">Dark</option>
                                    <option value="auto">Auto</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label>Language</label>
                                <select id="language-setting">
                                    <option value="en">English</option>
                                    <option value="es">Spanish</option>
                                    <option value="fr">French</option>
                                </select>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3>AI Settings</h3>
                            <div class="setting-item">
                                <label>Model</label>
                                <select id="model-setting">
                                    <option value="gpt-4">GPT-4</option>
                                    <option value="gpt-3.5">GPT-3.5 Turbo</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label>Max Response Length</label>
                                <input type="number" id="max-response" value="500" min="100" max="2000">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Help View -->
                <div class="view" id="help-view">
                    <div class="view-header">
                        <h1>Help & Documentation</h1>
                        <p>Learn how to use the RAG AI system effectively</p>
                    </div>

                    <div class="help-container">
                        <div class="help-section">
                            <h3>Getting Started</h3>
                            <div class="help-item">
                                <h4>1. Upload Documents</h4>
                                <p>Start by uploading your documents using the Upload section. Supported formats include PDF, Word documents, and text files.</p>
                            </div>
                            <div class="help-item">
                                <h4>2. Process Documents</h4>
                                <p>Once uploaded, process your documents to make them searchable by the AI system.</p>
                            </div>
                            <div class="help-item">
                                <h4>3. Ask Questions</h4>
                                <p>Use the AI Chat to ask questions about your documents and get intelligent responses.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Processing...</p>
        </div>
    </div>

    <!-- Notification Toast -->
    <div class="toast" id="toast">
        <div class="toast-content">
            <div class="toast-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="toast-message">Success message</div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</body>
</html>
